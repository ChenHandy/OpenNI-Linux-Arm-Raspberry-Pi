<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>OpenNI 1.5.4: Statistics.cpp file</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="OpenNILogo.bmp"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">OpenNI 1.5.4
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="index.html">OpenNI Overview</a></li><li class="navelem"><a class="el" href="smpls_n_guides.html">Samples and Guides</a></li><li class="navelem"><a class="el" href="smpls.html">Sample Programs for the OpenNI API</a></li><li class="navelem"><a class="el" href="smpl_niviewer.html">NiViewer - sample program</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Statistics.cpp file </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><b>Source file:</b> Click the following link to view the source code file:</p>
<ul>
<li>Statistics.cpp</li>
</ul>
<p>This file contains the code for calculating the statistics for the frames from the OpenNI generator nodes.</p>
<h1><a class="anchor" id="statistics_cpp_glb_decls"></a>
Global Type Declarations for Statistics.cpp</h1>
<pre class="fragment">The XnPixelStatistics data structure is defined in Statistics.h of this sample program. 
@code 
    XnPixelStatistics* g_PixelStatistics = NULL;

    enum XnCollectionStatus
    {
        NOT_COLLECTING,
        SHOULD_COLLECT,
        COLLECTING,
        COLLECTION_ENDED,
    } g_StatisticsState;
@endcode
</pre><h1><a class="anchor" id="statistics_cpp_statisticsinit"></a>
Function: statisticsInit() - Initializes the Statistics Collecting Mechanism</h1>
<pre class="fragment">This function initializes the statistics collecting mechanism.

This function gets a saved @ref glos_frame_object DepthGenerator node's "frame object", assigning them to &lt;code&gt;pDepthMD&lt;/code&gt;. The frame object is a snapshot of the generated data, saved as a metadata object, at a certain point in time. The @ref xn::OutputMetaData::Data() method gets a pointer to the data frame of the frame object saved in the metadata. 
@code 
    const DepthMetaData* pDepthMD = getDepthMetaData();
    if (pDepthMD != NULL)
    {
        g_PixelStatistics = new XnPixelStatistics[pDepthMD-&gt;FullXRes() * pDepthMD-&gt;FullYRes()];
    }
@endcode        
The above code uses the FullXRes() method to calculate the scaling factor between the depth map and the GL window. FullXRes() gets the full frame resolution, i.e., the entire field-of-view, ignoring cropping of the FOV in the scene.        

In the following, the @ref xn::DepthGenerator::GetDeviceMaxDepth() method gets the maximum depth value that the DepthGenerator node can generate. The maximum depth value is a hardware specification of the sensor.
@code 
    XnDepthPixel nMaxDepth = getDepthGenerator()-&gt;GetDeviceMaxDepth();
@endcode        
</pre><h1><a class="anchor" id="statistics_cpp_statisticsaddframe"></a>
Function: statisticsAddFrame() - Adds a Further Data Frame to the Statistics Collection</h1>
<pre class="fragment">This function adds a further data frame to the statistics collection.

This function uses OpenNI operation types that have already been described in this program sample.</pre> </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Mar 17 2014 17:19:11 for OpenNI 1.5.4 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1.2
</small></address>
</body>
</html>
